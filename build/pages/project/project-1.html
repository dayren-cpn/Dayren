<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Project</title>
   <link rel="stylesheet" href="/css/main.css" />
</head>

<body>

   <div class="container">

      <h1 class="text-top">test page</h1>

      <!-- DIALOG -->
      <dialog id="myDialog" class="dialog">

         <div class="dialog-container">

            <div class="dialog-header">
               <h2>Оставить заявку</h2>
               <button class="closeDialogButton" type="button">
                  <span>X</span>
               </button>
            </div>

            <div class="form-container">
               <form action="#">

                  <div class="inputBox">
                     <input type="text" required="required">
                     <span>ваше имя</span>
                     <i></i>
                  </div>

                  <div class="inputBox">
                     <input type="tel" required="required">
                     <span>ваш телефон</span>
                     <i></i>
                  </div>

                  <div class="inputBox">
                     <textarea name="massage" cols="30" rows="10" required="required"></textarea>
                     <span>Сообщение</span>
                     <i></i>
                  </div>

                  <button class="button-modal btn" type="submit">
                     <a>Отправить</a>
                  </button>
               </form>
            </div>

         </div>
      </dialog>


      <!-- OPEN DIALOG BUTTON -->
      <button class="openDialogButton" type="button" aria-haspopup="dialog" aria-controls="myDialog">
         click
      </button>
   </div>

   <style>
      /* closeDialogButton */
      :root {
         --accent: FireBrick;
         --bg-color: #1A1A1D;
      }

      .container {
         position: relative;
         width: 100%;
         height: 100dvh;
         color: white;
         background-color: var(--bg-color);
      }

      .text-top {
         text-align: center;
         color: white;
         font-size: 3em;
         text-transform: uppercase;
      }

      .openDialogButton {
         display: inline-block;
         position: absolute;
         top: 7rem;
         right: 3rem;
         width: 9rem;
         height: 3rem;

         color: white;
         font-size: 1.3em;
         text-transform: uppercase;

         border: 1px solid var(--accent);

         transition: .5s ease-out;
      }

      .openDialogButton:hover {
         letter-spacing: .2rem;
         background-color: #272727;
      }

   </style>

   <script>
      const dialog = document.getElementById('myDialog')
      const dialogOpener = document.querySelector('.openDialogButton')
      const dialogCloser = document.querySelector('.closeDialogButton')

      function closeOnBackDropClick({ currentTarget, target }) {
         const dialog = currentTarget
         const isClickedOnBackDrop = target === dialog

         if (isClickedOnBackDrop) {
            dialog.close()
         }
      }

      function openModalAndLockScroll() {
         dialog.showModal()
         document.body.classList.add('scroll-lock')
      }

      function returnScroll() {
         document.body.classList.remove('scroll-lock')
      }

      function close() {
         dialog.close()
         returnScroll()
      }

      dialog.addEventListener('click', closeOnBackDropClick)
      dialogOpener.addEventListener('click', openModalAndLockScroll)
      dialogCloser.addEventListener('click', (event) => {
         event.stopPropagation()
         close()
      })

   </script>
</body>

</html>